<!DOCTYPE html>
<html lang="en">
<head>
	<title>Teampool-Just play and work with Teampool!</title>

	<!-- Meta Tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="Webestica.com">
	<meta name="description" content="Teampool-Just play and work with Teampool!">

	<!-- Favicon -->
	<link rel="shortcut icon" href="assets/images/avatar/teamPool.png">

	<!-- Google Font -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap">

	<!-- Plugins CSS -->
	<link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap-icons/bootstrap-icons.css">

	<!-- Theme CSS -->
	<link id="style-switch" rel="stylesheet" type="text/css" href="assets/css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	
	<meta name ="google-signin-client_id" content="110133211517-0tcasjepokc7q5mm1hki32ljk52vtkcf.apps.googleusercontent.com">

<script>
	function enterkey(){
		ifÂ (window.event.keyCodeÂ ==Â 13)Â {
Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â //Â ì—”í„°í‚¤ê°€Â ëˆŒë ¸ì„Â ë•ŒÂ ì‹¤í–‰í• Â ë‚´ìš©
Â Â Â Â Â Â Â Â Â Â Â Â Â console.log('enter key');
			$('.warning').text('');
			 let user_id = $('#exampleInputEmail1').val();
		    let user_data={'user_id':user_id}
			console.log(user_id);
			 $.ajax({
				 'url': '/login/showDataList',//2. ajaxë¥¼ í†µí•´ ë¼ìš°í„°ì— ì—°ê²°
				 'type': 'post',
				 'datatype': 'json',
		         'data': user_data,
				 'success': function (results) {
					//5. back-endì—ì„œ ë°ì´í„° ë°›ì•„ì˜¤ê¸°
					//console.log(results[0].data + "ë°ì´íƒ€ì „ì²´?");
					//6. ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ê¸°
					let output;
					output = results.data[0];
					console.log(output);

					 
					if(output == undefined){
						$('#warning2').text('ì˜¬ë°”ë¥¸ ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
					}
					else{
						let user_id;
					user_id = output.user_id;
					console.log(user_id);  //ê°’ì„ ëª»ë°›ì•„ì˜¤ê³  ìˆë„¹. titleë¨¼ì € ì •ì˜í•˜ê³  ê°€ì ¸ì™€ì•¼ë¨. ê·¸ë¦¬ê³  í•œì¤„ë§Œ ë°›ì•„ì™€ë„ ì¸ë±ìŠ¤0ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°.

					let user_pw;
					user_pw = output.user_pw;
					console.log(user_pw);


					//ì•„ë˜ì½”ë“œëŠ” ë­ì§€?
					$('#user_id').text = '';
					$('#user_pw').text = '';


					//$('#user_id').append(user_id);
					//$('#user_pw').append(user_pw);
					 
					
					console.log('ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­');
					let inputEmail = $('#exampleInputEmail1').val();
					let inputPassword = $('#inputPassword5').val();

					console.log(inputEmail);
					console.log(inputPassword);
					
						let flag ;
			
						

						if (inputEmail === output.user_id) {
						   console.log("ì•„ì´ë”” ë§ìŒ");
						   if(inputPassword === output.user_pw){
							   console.log("ë¹„ë°€ë²ˆí˜¸ ë§ìŒ");
						localStorage.setItem("user_name",inputEmail );
							   flag = 0;
							   location.href="main";
							  
							   
							   
						   }
						   
						   
						   else{
							   console.log("ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¼");
							   $('#warning2').text('ì˜¬ë°”ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
							   	
							   flag = 1;
						   }		
						   
						}
						
						else {
						}

						  console.log(flag);
						
						
						
						
						



						  // if (inputPassword === output[i].user_pw) {
						  // //ì•„ì´ë””ë‘ íŒ¨ìŠ¤ì›Œë“œ ë‘˜ë‹¤ ì¼ì¹˜í•˜ë©´ ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™í•´ì§€ê¸°
						  // console.log('ì˜¤ ë‘˜ë‹¤ ì¼ì¹˜í•¨!');

						  // //<a href="main_page.ejs">

						  // }
						  //  else {
						  // $('#warning1').text('ë¹„ë°€ë²ˆí˜¸ê°€ ë‹¤ë¦…ë‹ˆë‹¤.í™•ì¸í•´ì£¼ì„¸ìš”!');
						  // //flag =1;
						  // console.log('ì•„ì´ë””ëŠ” ë§ëŠ”ë° ë¹„ë²ˆë§Œ í‹€ë¦¼!');
						  // }

					   



					
					 
						// if (flag===1){
							
						// 	if(output == undefined){
						// 		console.log("id");
						// 	}
						// 	$('#warning2').text('ì˜¬ë°”ë¥¸ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
							
						// 	}
					}
					

				}

				});
Â Â Â Â Â Â Â Â }
	}
</script>
<script>      
   $(document).ready(function () {//1. í˜ì´ì§€ê°€ ì‹¤í–‰ë˜ë©´
         $('#btnJoin').click(function () {
			 $('.warning').text('');
			 let user_id = $('#exampleInputEmail1').val();
		    let user_data={'user_id':user_id}
			console.log(user_id,"ìœ ì €ì•„ì´ë””ëŠ”?");
			 $.ajax({
				 'url': '/login/showDataList',//2. ajaxë¥¼ í†µí•´ ë¼ìš°í„°ì— ì—°ê²°
				 'type': 'post',
				 'datatype': 'json',
		         'data': user_data,
				 'success': function (results) {
					//5. back-endì—ì„œ ë°ì´í„° ë°›ì•„ì˜¤ê¸°
					console.log(results.data[0] + "ë°ì´íƒ€ì „ì²´?");
					//6. ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ê¸°
					let output;
					output = results.data[0];
					console.log(output);

					let user_id;
					user_id = output.user_id;
					console.log(user_id);  //ê°’ì„ ëª»ë°›ì•„ì˜¤ê³  ìˆë„¹. titleë¨¼ì € ì •ì˜í•˜ê³  ê°€ì ¸ì™€ì•¼ë¨. ê·¸ë¦¬ê³  í•œì¤„ë§Œ ë°›ì•„ì™€ë„ ì¸ë±ìŠ¤0ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°.

					let user_pw;
					user_pw = output.user_pw;
					console.log(user_pw);


					//ì•„ë˜ì½”ë“œëŠ” ë­ì§€?
					$('#user_id').text = '';
					$('#user_pw').text = '';


					//$('#user_id').append(user_id);
					//$('#user_pw').append(user_pw);
					 
					
					console.log('ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­');
					let inputEmail = $('#exampleInputEmail1').val();
					let inputPassword = $('#inputPassword5').val();

					console.log(inputEmail);
					console.log(inputPassword);
					
						let flag ;
			
						

						if (inputEmail === output.user_id) {
						   console.log("ì•„ì´ë”” ë§ìŒ");
						   if(inputPassword === output.user_pw){
							   console.log("ë¹„ë°€ë²ˆí˜¸ ë§ìŒ");
						localStorage.setItem("user_name",inputEmail );
							   flag = 0;
							   location.href="main";
							  
							   
							   
						   }
						   
						   
						   else{
							   console.log("ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¼");
							   	
							   flag = 1;
						   }		
						   
						}
						
						else {
							 console.log('ì•„ì´ë””ê°€ í‹€ë¦¼ìš”!');
							
							flag = 1;
						}

						  console.log(flag);
						
						
						
						
						



						  // if (inputPassword === output[i].user_pw) {
						  // //ì•„ì´ë””ë‘ íŒ¨ìŠ¤ì›Œë“œ ë‘˜ë‹¤ ì¼ì¹˜í•˜ë©´ ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™í•´ì§€ê¸°
						  // console.log('ì˜¤ ë‘˜ë‹¤ ì¼ì¹˜í•¨!');

						  // //<a href="main_page.ejs">

						  // }
						  //  else {
						  // $('#warning1').text('ë¹„ë°€ë²ˆí˜¸ê°€ ë‹¤ë¦…ë‹ˆë‹¤.í™•ì¸í•´ì£¼ì„¸ìš”!');
						  // //flag =1;
						  // console.log('ì•„ì´ë””ëŠ” ë§ëŠ”ë° ë¹„ë²ˆë§Œ í‹€ë¦¼!');
						  // }

					   



					
					 
						if (flag===1){
							
							
							$('#warning2').text('ì˜¬ë°”ë¥¸ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
							
							}

				}

				});
         });
      

});



</script>
	
	
	
	
	
	

</head>

<body>

	
	
	
<script>

//ì²˜ìŒ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜
function init() {
	gapi.load('auth2', function() {
		gapi.auth2.init();
		options = new gapi.auth2.SigninOptionsBuilder();
		options.setPrompt('select_account');
        // ì¶”ê°€ëŠ” Oauth ìŠ¹ì¸ ê¶Œí•œ ì¶”ê°€ í›„ ë„ì–´ì“°ê¸° ê¸°ì¤€ìœ¼ë¡œ ì¶”ê°€
		options.setScope('email profile openid https://www.googleapis.com/auth/user.birthday.read');
        // ì¸ìŠ¤í„´ìŠ¤ì˜ í•¨ìˆ˜ í˜¸ì¶œ - elementì— ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€
        // GgCustomLoginì€ liíƒœê·¸ì•ˆì— ìˆëŠ” ID, ìœ„ì— ì„¤ì •í•œ optionsì™€ ì•„ë˜ ì„±ê³µ,ì‹¤íŒ¨ì‹œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ë“¤
		gapi.auth2.getAuthInstance().attachClickHandler('GgCustomLogin', options, onSignIn, onSignInFailure);
	})
}

function onSignIn(googleUser) {
	var access_token = googleUser.getAuthResponse().access_token
	$.ajax({
    	// people apië¥¼ ì´ìš©í•˜ì—¬ í”„ë¡œí•„ ë° ìƒë…„ì›”ì¼ì— ëŒ€í•œ ì„ íƒë™ì˜í›„ ê°€ì ¸ì˜¨ë‹¤.
		url: 'https://people.googleapis.com/v1/people/me'
        // keyì— ìì‹ ì˜ API í‚¤ë¥¼ ë„£ìŠµë‹ˆë‹¤.
		, data: {personFields:'birthdays', key:'AIzaSyCq_Iu6XK4WfpA6_xr7kiqzSndo33hTj0I', 'access_token': access_token}
		, method:'GET'
	})
	.done(function(e){
        //í”„ë¡œí•„ì„ ê°€ì ¸ì˜¨ë‹¤.
		var profile = googleUser.getBasicProfile();
		console.log(profile)
	})
	.fail(function(e){
		console.log(e);
	})
}
function onSignInFailure(t){		
	console.log(t);
}
</script>

<script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
	
	
	
	
<!-- **************** MAIN CONTENT START **************** -->
<main>
	<section class="p-0 d-flex align-items-center position-relative overflow-hidden">
	
		<div class="container-fluid">
			<div class="row">
				<!-- ì™¼ìª½ë©´ -->
				<div class="col-12 col-lg-6 m-auto">
					<div class="row my-5">
						<div class="col-sm-10 col-xl-8 m-auto">
							<!-- íƒ€ì´í‹€ -->
							<span class="mb-0 fs-1">ğŸ‘‹</span>
							<h1 class="fs-2">ë¡œê·¸ì¸ í•˜ê¸°</h1>
							<p class="lead mb-4">ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš”! ê³„ì •ì— ë¡œê·¸ì¸í•˜ì„¸ìš”!</p>

							<!-- Form START -->
							<form onkeyup="enterkey();">
								<!-- ì´ë©”ì¼ì…ë ¥ -->
								<div class="mb-4">
									
									<div class="input-group input-group-lg">
										<span class="input-group-text bg-light rounded-start border-0 text-secondary px-3"><i class="bi bi-envelope-fill"></i></span>
										<input type="email" onkeyup="enterkey();" class="form-control border-0 bg-light rounded-end ps-1" placeholder="ì•„ì´ë””" id="exampleInputEmail1">
									</div>
									<div id="warning1" class="warning text-danger"></div>
								</div>
								<!-- íŒ¨ìŠ¤ì›Œë“œ-->
								<div class="mb-4">
									
									<div class="input-group input-group-lg">
										<span class="input-group-text bg-light rounded-start border-0 text-secondary px-3"><i class="fas fa-lock"></i></span>
										<input type="password" onkeyup="enterkey();" class="form-control border-0 bg-light rounded-end ps-1" placeholder="ë¹„ë°€ë²ˆí˜¸" id="inputPassword5">
									</div>
									
									<div id="warning2" class="warning text-danger"></div>
								</div>
								<!-- ì²´í¬ë°•ìŠ¤-->
								<div class="mb-4 d-flex justify-content-between mb-4">
									<div class="form-check">
										<input type="checkbox" class="form-check-input" id="exampleCheck1">
										<label class="form-check-label" for="exampleCheck1">ê³„ì • ê¸°ì–µí•˜ê¸°</label>
									</div>
									<div class="text-primary-hover">
										<a href="password_find" class="text-secondary">
											<u>ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠìœ¼ì…¨ë‚˜ìš”?</u>
										</a>
									</div>
								</div>
								<!-- ë²„íŠ¼-->
								<div class="align-items-center mt-0">
									<div class="d-grid">
										<button class="btn btn-primary mb-0" type="button" id=btnJoin>ë¡œê·¸ì¸í•˜ê¸°</button>
									</div>
									
								</div>
							</form>
							<!-- Form END -->



							<!-- Sign up link -->
							<div class="mt-4 text-center ">
								<span>ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?<a href="signin1">    íšŒì›ê°€ì…</a></span>
							</div>
						</div>
					</div> <!-- Row END -->
				</div>


				<!-- ì˜¤ë¥¸ìª½ë©´ -->
				


<div class="col-12 col-lg-6 d-md-flex align-items-center justify-content-center bg-primary bg-opacity-10 vh-lg-100">
					<div class="p-3 p-lg-5">
						<!-- Title -->
						<div class="text-center">
							<h2 class="fw-bold">ì›í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì°¾ê³ 
íŒ€ì›ë“¤ì„ êµ¬í•´ë³´ì„¸ìš”</h2>
							<p class="mb-0 h6 fw-light">íŒ€ì›ë“¤ì´ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”!</p>
						</div>
						<!-- SVG Image -->
						<img src="assets/images/element/02.svg" class="mt-5" alt="">
						<!-- Info -->
						<div class="d-sm-flex mt-5 align-items-center justify-content-center">
							<!-- Avatar group -->
							<ul class="avatar-group mb-2 mb-sm-0">
								<li class="avatar avatar-sm">
									<img class="avatar-img rounded-circle" src="assets/images/avatar/profile1.png" alt="avatar">
								</li>
								<li class="avatar avatar-sm">
									<img class="avatar-img rounded-circle" src="assets/images/avatar/profile2.png" alt="avatar">
								</li>
								<li class="avatar avatar-sm">
									<img class="avatar-img rounded-circle" src="assets/images/avatar/profile3.png" alt="avatar">
								</li>
								<li class="avatar avatar-sm">
									<img class="avatar-img rounded-circle" src="assets/images/avatar/profile4.png" alt="avatar">
								</li>
							</ul>
							<!-- Content -->
							<p class="mb-0 h6 fw-light ms-0 ms-sm-3">ì´ë¯¸ 3ì²œëª…ì˜ ì¸ì›ì´ í•¨ê»˜í•˜ê³  ìˆì–´ìš”! ë‹¹ì‹  ì°¨ë¡€ì—ìš”!</p>
						</div>
					</div>
				</div>




			</div> <!-- Row END -->
		</div>
	</section>
</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- Back to top -->
<div class="back-top"><i class="bi bi-arrow-up-short position-absolute top-50 start-50 translate-middle"></i></div>

<!-- Bootstrap JS -->
<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Template Functions -->
<script src="assets/js/functions.js"></script>


	
<!-- <script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>
<script type="text/javascript">
  
  const naverLogin = new naver.LoginWithNaverId(
   {
    clientId: "TTIk1aaXVBTsJdLlqGkO",
    callbackUrl: "https://test-qiiyr.run.goorm.io/login",
    loginButton: {color: "green", type: 2, height: 40}
    }
   );
  

    naverLogin.init();
    naverLogin.getLoginStatus(function (status) {
      if (status) {
          const nickName=naverLogin.user.getNickName();
          const age=naverLogin.user.getAge();
          const birthday=naverLogin.user.getBirthday();
          if(nickName===null||nickName===undefined ){
            alert("ë³„ëª…ì´ í•„ìš”í•©ë‹ˆë‹¤. ì •ë³´ì œê³µì„ ë™ì˜í•´ì£¼ì„¸ìš”.");
            naverLogin.reprompt();
            return ;  
         }else{
          setLoginStatus();
         }
	}
    });
    
	

    function setLoginStatus(){
	  console.log(naverLogin.user);
	  let naverlogin_data={
		  'naver_id': naverLogin.user.id,
		  'email': naverLogin.user.email,
		  'nickname': naverLogin.user.nickname
	  }
	  let insertId;
	  $.ajax({
		  'url': '/login/naverlogindata',
		  'type':'post',
		  'datatype':'json',
		  //'async': false,
		  'data': naverlogin_data,
		  //'setTimeout': 30000,
		  'success':function(results){
		  console.log("success");
		  console.log(results.data);
		  console.log(results.data.insertId);
		  insertId = results.data.insertId;
		  // í˜ì´ì§€ ì´ë™
		  }
	  }) -->
		
		 // let testdata = {
		 // 'insertId':insertId
		 // }
		 // $.ajax({
		 // 'url': '/login/testRouter',
		 // 'type':'post',
		 // 'datatype':'json',
		 // //'async': false,
		 // 'data': testdata,
		 // //'setTimeout': 30000,
		 // 'success':function(results){
		 // console.log('ì„±ê³µ');
		 // }
		 // })
    }
   

	</script>
</body>
</html>